<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Invertir un Número con Recursividad</title>
    <link rel="stylesheet" href="unidad2.css" />
    <style>
      /* Desactivar selección de texto en toda la página */
      body {
        user-select: none; /* Para navegadores modernos */
        -webkit-user-select: none; /* Para Safari */
        -moz-user-select: none; /* Para Firefox */
        -ms-user-select: none; /* Para Internet Explorer/Edge */
      }

      /* Activar selección de texto solo en el área del código */
      #codigoJava {
        user-select: text; /* Permitir selección de texto en el área de código */
      }
    </style>
  </head>
  <body>
    <h1>Explicación del Código</h1>
    <p>
      Este programa en Java invierte un número entero de forma recursiva, sin
      convertirlo en una cadena. El número se procesa dígito por dígito, y se
      reconstruye en orden inverso.
    </p>

    <div id="buttonContainer">
      <button id="copyButton">Copiar Código</button>
      <button id="backButton">Volver</button>
    </div>

    <script>
      // Verificar si la página fue abierta desde otra página
      if (document.referrer === "") {
        window.location.href = "index.html"; // Redirigir si no hay referencia
      }

      // Redirigir al index.html si se intenta copiar la URL de la página
      document.addEventListener("beforecopy", function (e) {
        e.preventDefault();
        window.location.href = "index.html";
      });

      // Función para copiar el texto del contenido
      document
        .getElementById("copyButton")
        .addEventListener("click", function () {
          const codeContent = document.getElementById("codigoJava").innerText;
          navigator.clipboard.writeText(codeContent).then(
            function () {
              alert("Código copiado al portapapeles");
            },
            function (err) {
              alert("Error al copiar el código: ", err);
            }
          );
        });

      // Función para volver a la selección de página
      document
        .getElementById("backButton")
        .addEventListener("click", function () {
          window.location.href = "index.html";
        });

      // Deshabilitar clic derecho
      document.addEventListener("contextmenu", function (e) {
        e.preventDefault();
      });

      // Deshabilitar teclas de acceso directo como F12, Ctrl+Shift+I, etc.
      document.addEventListener("keydown", function (e) {
        // F12
        if (e.key === "F12") {
          e.preventDefault();
        }

        // Ctrl+Shift+I
        if (e.ctrlKey && e.shiftKey && e.key === "I") {
          e.preventDefault();
        }

        // Ctrl+Shift+C
        if (e.ctrlKey && e.shiftKey && e.key === "C") {
          e.preventDefault();
        }

        // Ctrl+Shift+J
        if (e.ctrlKey && e.shiftKey && e.key === "J") {
          e.preventDefault();
        }

        // Ctrl+U (ver fuente)
        if (e.ctrlKey && e.key === "u") {
          e.preventDefault();
        }
      });

      // Desactivar arrastre de elementos
      document.addEventListener("dragstart", function (e) {
        e.preventDefault();
      });
    </script>

    <h2>Clase InvertirNumero</h2>
    <pre id="codigoJava">
<code>
import java.util.Scanner;

public class InvertirNumero {

    // Programa que invierte un número pero que se maneje como número y no como cadena
    static int invertirN(int numero) {
        // Caso base: si el número es menor a 10, retorna el número tal cual
        if (numero < 10) return numero;
        else {
            // Obtiene el último dígito del número
            int digito = numero % 10;
            // Calcula la longitud del número en términos de cantidad de dígitos
            int longitud = (int) Math.log10(numero);
            // Multiplica el dígito por su valor posicional invertido y llama recursivamente
            return digito * (int) Math.pow(10, longitud) + invertirN(numero / 10);
        }
    }

    public static void main(String[] args) {
        // Solicita al usuario que ingrese un número
        Scanner scanner = new Scanner(System.in);
        System.out.print("Introduce un número: ");
        int numero = scanner.nextInt();
        
        // Muestra el número invertido en la consola
        System.out.println("Número invertido: " + invertirN(numero));
        scanner.close();
    }
}
</code>
    </pre>

    <h2>Explicación</h2>
    <p>
      La clase <code>InvertirNumero</code> contiene dos métodos principales:
    </p>
    <ul>
      <li>
        <code>invertirN(int numero)</code>: Este método recursivo toma un número
        entero y lo invierte. Si el número es menor que 10, lo retorna tal como
        está (caso base). De lo contrario, extrae el último dígito y lo
        multiplica por su posición en el número invertido, luego llama
        recursivamente al método con el número sin el último dígito.
      </li>
      <li>
        <code>main(String[] args)</code>: Este método es el punto de entrada del
        programa, donde se solicita un número al usuario y se imprime el número
        invertido en la consola.
      </li>
    </ul>

    <h3>Método invertirN</h3>
    <p>El método <code>invertirN</code> sigue estos pasos:</p>
    <ol>
      <li>
        Si el número tiene solo un dígito (es menor a 10), lo retorna tal cual
        (caso base).
      </li>
      <li>
        Si el número tiene más de un dígito, extrae el último dígito utilizando
        el operador módulo (<code>%</code>).
      </li>
      <li>
        Calcula la longitud del número, que es la cantidad de dígitos menos 1.
      </li>
      <li>
        Multiplica el dígito por su valor posicional en el número invertido
        (usando <code>Math.pow()</code>), y luego llama recursivamente al método
        con el número sin el último dígito.
      </li>
    </ol>

    <h3>Método main</h3>
    <p>El método <code>main</code> realiza lo siguiente:</p>
    <ol>
      <li>Solicita al usuario que ingrese un número.</li>
      <li>Llama al método <code>invertirN</code> para invertir el número.</li>
      <li>Muestra el resultado en la consola.</li>
    </ol>
  </body>
</html>
